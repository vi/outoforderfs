#!/bin/bash

yes ' ' | head -n 80 | tr -d '\n' > sf.dat

> mp.dat

target/debug/outoforderfs sf.dat mp.dat 1 5000 1000 &

sleep 0.4;

P=$!

trap "fusermount -u mp.dat; kill -INT $P" EXIT

yes '.' | head -n 80 | tr -d '\n' | dd of=mp.dat bs=1 count=80 conv=notrunc 2> /dev/null

for((i=0; i<101; ++i)) {
    cat sf.dat; echo

    if [[ $i == 50 ]]; then
        yes '*' | head -n 80 | tr -d '\n' | dd of=mp.dat bs=1 count=80 conv=notrunc 2> /dev/null
    fi

    sleep 0.05
}

exit 0

Sample output:
                                                                                
                                   .                        .                   
                                   .  .                     .                   
                                   .  .                     .                   
                        .          .  .                     .                   
                        .          .  . .       .           .                   
                        .          .  . .       .           .                   
          .            ..          .  . .       .           ..                  
          .            ..   .      .  . .       .           ..                  
         ..            ..   .      .  . .       .  .        ..                  
         ..            ..   .      .  . .       .  .        ..                  
         ..            ..   .      .  . .       .  .      . ..                  
         ..            ..   .      .  . .  .    .  .      . ..                  
         ..            ..   .      .  . .  .    .  .      . ..                  
         .. .          ..   .      .  . .  .    .  .      . ..  .               
         .. .          ..   .     ..  . .  .    .  .      . ..  .               
         .. .          ..   .     ..  . .  .    .  .      ....  .        .      
       . .. .          ..   .     ..  . .  .    .  .      ....  .        .      
       . .. .          ..   .     ..  . .  .   ..  .      ....  .        . .    
       . .. .          ..   .     ..  . .  .   ..  .      ....  .        . .    
       . .. .          ..   .     ..  . .  .   ..  .      ....  .        . .    
       . .. .          ..   .     ..  . .  .   ..  .     .....  .        . .    
       . .. .          ..   .     ..  . .  .   ..  .     .....  .        . .    
       . .. .      .   ..   .     ..  . .  .   ..  .     .....  .        . .    
       . .. .      .   ..   .     ..  . .  .   ..  .     .....  .        . .    
       . .. .     ..   ..   .     ..  . .  .   ..  .     .....  .        . .    
       . .. .     ..   ..   .     ..  . .  .   ..  .     .....  .        . .    
 .     . .. .     ..   ..   .     ..  . .  .   ..  .     .....  .        . .    
 .     . .. .     ..   ..   .     ..  . .  .   ..  .     .....  .        . .    
 .     . .. .     ..   ..   .     ..  . .  .   ..  .     .....  .        . .    
 .     . .. .     ..   ..   .     ..  . .  .   ..  .     .....  .        . .    
 .     . .. .     ..   ..   .     ..  . .  .   ..  .     .....  .        . .    
 .     . .. .     ..  ...   .     ..  . .  .   ..  .     .....  .        . .    
 .     . .. .     ..  ...   .     ..  . .  ..  ..  .     .....  .        . .    
 .     . .. .     ..  ...   .     ..  . .  ..  ..  .     .....  .        . .    
 .     . .. .     ..  ...   .    ...  . .  ..  ..  .     .....  .      . . .    
 .     . .. ..    ..  ...   .    ...  . .  ..  ..  .     .....  .      . . . .  
 .     . .. ..    ..  ...   .    ...  . .  ..  ..  .     .....  .      . . . .. 
 .     . .. ..    ..  ...   .   ....  . .  ..  ..  .     .....  .      . . . .. 
 .     . .. ..    ..  ...   .   ....  . .  ..  ..  ..    .....  .      . . . .. 
 .     . .. ..    ..  ... . .   ....  . .  ..  ..  ..    .....  .      . . . .. 
 .     . .. ..    ..  ... . .   ....  . .  ..  ..  ..    .....  .      . . . .. 
 .     . .. ..    ..  ... . .   ....  . .  ..  ..  ..    .....  .      . . . .. 
 . .   . .. ..    ..  ... . .   ....  . .  ..  ..  ..    .....  .      . . . .. 
 . .   . .. ..    ..  ... . .   ....  . .  ..  ..  ..    .....  .      . . . .. 
 . .   . .. ..    ..  ... . .   ....  . .  ..  ..  ..    .....  .      . . . .. 
 . .   . .. ..    ..  ... . .   ....  . .  ..  ..  ..    .....  .      . . . .. 
 . .   . .. ..    ..  ... . .   ....  . .  ... ..  ..    .....  .      . . . .. 
 . .   . .. ..    ..  ... . .   ....  ...  ......  ..    .....  .      . . . .. 
 . .   . .. ..    ..  ... . ..  ....  ...  ......  ..    .....  .      . . . .. 
 . . . . .. ..    ..  ... . ..  ....  ...  ......  ..    .....  .      . . . .. 
 . . . . .. ..    ..  ... .*..  ....  ...  ......  ..    .....  .      . . . .. 
 . . . . .. ..    ..  ... .**.  ....  ...  ......  ..    .....  . *    . . . .. 
 . . . . .. ..    ..  ... .**.  ....  ...  ......  ..    .....  . *    . . . .. 
 . . . . .. .. *  ..  ... .**.  ....  ...  ......  ..    .....  .**    . . . ..*
 . . . . .. .. *  ..  ... .**.  ....  ...  ......  ..    .*...  .**    . . . ..*
*. . . . .. ..**  ..  ... .**.  ....  ...  ......  ..    .*...  .**    . . . ..*
*. . . . .. ..**  ..  ... .**.  ....  ...  ......  ..    .*...  .**    . . . ..*
*. . . . .. ..**  ..  ... .**.  ....  ...  ......  ..    .*...  .**    . . . ..*
*. . . . .. ..**  ..* ... .**.  ....  ...  ......  ..   *.*...  .**    . . . ..*
*. . . . .. ..**  ..* ... .**.  ....  ...  ......  ..   *.*...  .**    . . . ..*
*. . . . .. ..**  ..* .*. .**.  ....  ...  ......  ..   *.*...  .**    . . . ..*
*. . . .*.. ..**  ..* .*.*.**.  ....  ...  ......  ..  **.*...  .**    . . . ..*
*. . . .*.. ..**  ..* .*.*.**.  ....  ...  ......  ..  **.*...* .**    .*. . .**
*. . . .*.. ..**  ..* .*.*.**.  ....  ...  ......  ..  **.*...* .**    .*. . .**
*. . . .*.. ..**  ..* .*.*.**.  ....  ...  ......  ..  **.*...* .**    .*. . .**
*. . . .*.. ..**  ..* .*.*.**.  ....  ...  ......  ..  **.*...* .**    .*. . .**
*. . . .*.. ..**  ..* .*.*.**.  ....  ...  ......  ..  **.*...* .**    .*. . .**
*. . . .*.. ..**  ..* .*.*.**.  ....  ...  ......  ..  **.*...* .**    .*. . .**
*. . . .*.. ..**  ..* .*.*.**.  ....  ...  ...*..  ..  **.*...* .**    .*. . .**
*. . . .*.. ..**  ..* .*.*.**.  ....  ...  ...*..  ..  **.*.*.* .**    **. . .**
*. . . .*.. ..**  ..* .*.*.**.  ....  ...  ...*..  ..  **.*.*.* .**    **. * .**
*. . . .*..*..**  ..* .*.*.**.  ....  ...* ...*..  ..  **.*.*.* .**   ***. * .**
*. . . .*..*..**  ..* .*.*.**.  ....  ...* ...*..  ..  **.*.*.* .**   ***. * .**
*. . . .*..*..**  ..* .*.*.**.  ....  ...* ...*..  ..  **.*.*.* .** * ***. * .**
*. . . .*..*..**  ..* .*.*.**.  ....  ...* ...*.. *.. ***.*.*.* .** * ***. **.**
*. . . .*..*..**  ..* .*.*.**.  ....  ...* .*.*.. *.. ***.*.*.* .** * ***. **.**
*. . . .*..*..**  ..* .*.*.**.  ....  ...* .*.*.. *.* ***.*.*.* .** * ***. **.**
*. . . .*..*..**  ..* .*.*.**.  ....  ...* .*.*.. *.* ***.*.*.* .** * ***. **.**
*. . . .*..*..**  ..* .*.*.**.  ....  ...* .*.*.. *.* ***.*.*.* .** * ***.***.**
*. . . .*..*..**  ..* .*.*.**.  ....  ...* .*.*.. *.* ***.*.*.* *** * *******.**
*. . . .*..*..**  ..* .*.*.**.  ....  ...* .*.*.. *.* ***.*.*.* *** * *******.**
** . . .*..*..**  ..* .*.*.**.* ....* ...* .*.*.. *.* ***.*.*.* *** * *******.**
** . . .*..*.***  ..* .*.*.**.* ....* ...* .*.*..**.* ***.*.*.* *** * *******.**
** .*. .*..*.***  ..* .*.*.**.**....* ...* .*.*..**.* ***.*.*.* ***** *******.**
** .*. .*..*.***  ..* .*.*.**.**....* ...* .*.*..**.* ***.*.*** ***** *******.**
** .*.*.*..*.***  *.* .*.*.**.**....* ...* .*.*..**.* ***.*.*** ***** *******.**
** .*.*.*..*.***  *.* .*.*.*****....* ...* .*.*..**.* ***.*.*** ***** *******.**
** .*.*.*..*.***  *.* .*.*.*****....* ...* .*.*..**.*****.*.********* *******.**
** .*.*.*..*.***  *.* .*.*.*****....**...* .*.*..**.*****.*.*****************.**
** .*.*.*..*.***  *.* .*.*.*****....**...* .*.*..**.*****.*.*****************.**
** .*.*.*..*.***  *.**.*.*.*****.*..**...**.*.*..**.*****.*.*****************.**
***.*.*.*..*.**** *.**.*.*.*****.*..**...**.*.*..**.*****.*.*****************.**
***.*.*.*..*.**** *.**.*.*.*****.*..**...****.*..**.*****.*.*****************.**
***.*.*.*.**.******.**.*.*.*****.*..**...****.*..**.*****.*.*****************.**
***.*.*.*.**.******.**.*.*.*****.*..**...****.*..**.*****.*.*****************.**
***.*.*.*.**.******.**.*.*.*****.*..**...****.*..**.*****.*.*****************.**
***.*.*.*.**.******.**.*.*.*****.*..**...****.*..**.*****.*.*****************.**
***.*.*.*.**.******.**.*.*.*****.*..**...****.*..**.*****.*.*****************.**
***.*.*.*.**.******.**.*.*.*****.*..**...****.*.***.*****.*.*****************.**
***.*.*.*.**.******.**.*.*.*****.*..**...****.*****.*****.*.*****************.**

20 dirty blocks lost
